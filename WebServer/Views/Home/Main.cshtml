@{
    Layout = "_Layout";
}
<div class="app">
    <!-- LEFT: thread list -->
    <aside class="left-pane">
        <div class="list-header">
            <h2>Đoạn chat</h2>
            <div class="list-actions">
                <button class="icon-btn" id="newMsgBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#000000" d="M18 20v-3h-3v-2h3v-3h2v3h3v2h-3v3h-2ZM3 21q-.825 0-1.413-.588T1 19V5q0-.825.588-1.413T3 3h14q.825 0 1.413.588T19 5v5h-2V8H3v11h13v2H3Z" /></svg>
                </button>
            </div>
        </div>

        <div class="search">
            <img src="~/assets/icons/search.svg" alt="" />
            <input id="threadSearch"
                   type="text"
                   placeholder="Tìm kiếm trên Messenger" />
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="all">Tất cả</button>
            <button class="tab" data-tab="unread">Chưa đọc</button>
            <button class="tab" data-tab="groups">Nhóm</button>
        </div>

        <ul class="thread-list" id="threadList" aria-label="Thread list">
            
        </ul>
    </aside>

    <!-- RIGHT: conversation -->
    <main class="chat-pane">
        <header class="chat-header">
            <!-- Nút back (ẩn mặc định, chỉ hiện khi mobile) -->
            <button class="icon-btn back-btn" id="backBtn">
                <img src="assets/icons/arrow-left.svg" alt="Back" />
            </button>

            <div class="peer">
                <img id="peerAvatar"
                     src="assets/images/contact-1.png"
                     alt="avatar" />
                <div>
                    <div class="name" id="peerName">user name</div>
                    <div class="sub" id="peerStatus">Hoạt động 1 giờ trước</div>
                </div>
            </div>
            <div class="chat-actions">
                <!-- Gọi thoại -->
                <button id="btnVoiceCall"
                        class="icon-btn chat-action-btn"
                        title="Gọi thoại"
                        aria-label="Voice call">
                    <svg class="ui-icon"
                         xmlns="http://www.w3.org/2000/svg"
                         viewBox="0 0 24 24"
                         fill="currentColor"
                         aria-hidden="true">
                        <path fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z" />
                    </svg>
                </button>

                <!-- Gọi video -->
                <button id="btnVideoCall"
                        class="icon-btn chat-action-btn"
                        title="Gọi video"
                        aria-label="Video call">
                    <svg class="ui-icon"
                         xmlns="http://www.w3.org/2000/svg"
                         viewBox="0 0 24 24"
                         fill="currentColor"
                         aria-hidden="true">
                        <path d="M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z" />
                    </svg>
                </button>
            </div>
        </header>

        <section id="messageScroller" class="scroller">
            <!-- Messages will be appended here -->
        </section>

        <footer class="composer">
            <div class="composer-left">
                <button class="icon-btn" title="Ghi âm">
                    <img src="~/assets/icons/mic-fill.svg" alt="" />
                </button>
                <button class="icon-btn" id="btn-select-img-sender" title="Ảnh/Video">
                    <img src="~/assets/icons/images.svg" alt="" />
                </button>
                <button class="icon-btn" id="btn-select-gif-sender" title="GIF">
                    <img src="~/assets/icons/stickies.svg" alt="" />
                </button>
            </div>
            <div class="input-wrap">
                <input id="msgInput"
                       type="text"
                       placeholder="Aa"
                       autocomplete="off" />
            </div>
            <div class="composer-right">
                <button id="emojiBtn" class="icon-btn" title="Emoji">
                    <img src="~/assets/icons/emoji.svg" alt="" />
                </button>
                <button id="sendBtn" class="send-btn" title="Gửi">
                    <img src="~/assets/icons/send.svg" alt="" />
                </button>
            </div>
        </footer>
    </main>
</div>
<style>
    .image-preview-container {
        width: 100%;
    }

    .image-preview {
        position: relative;
        display: inline-block;
    }

        .image-preview img {
            max-height: 80px;
            max-width: 120px;
            border-radius: 10px;
            object-fit: cover;
        }

    .remove-image-btn {
        position: absolute;
        top: -8px;
        right: -8px;
        background: #000;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 22px;
        height: 22px;
        cursor: pointer;
        font-size: 14px;
        line-height: 20px;
    }
</style>